<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Entorno 3D VR Caótico</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <!-- Añadir sistema de física -->
  <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
</head>
<body>
  <a-scene vr-mode-ui="enabled: true" xr="requiredFeatures: hand-tracking" physics="debug: false; gravity: 0 -1.6 0">
    <!-- Suelo -->
    <a-entity static-body geometry="primitive: plane; width: 100; height: 100" material="color: green" rotation="-90 0 0"></a-entity>

    <!-- Paredes con colisión -->
    <a-entity static-body geometry="primitive: plane; width: 100; height: 20" material="color: blue" position="0 10 -50"></a-entity>
    <a-entity static-body geometry="primitive: plane; width: 100; height: 20" material="color: hotpink" position="0 10 50" rotation="0 180 0"></a-entity>
    <a-entity static-body geometry="primitive: plane; width: 100; height: 20" material="color: yellow" position="-50 10 0" rotation="0 90 0"></a-entity>
    <a-entity static-body geometry="primitive: plane; width: 100; height: 20" material="color: orange" position="50 10 0" rotation="0 -90 0"></a-entity>
    <a-entity static-body geometry="primitive: plane; width: 100; height: 100" material="color: gray" rotation="90 0 0" position="0 20 0"></a-entity>

    <!-- Cubos con física caótica -->
    <a-box class="movingCube" position="-10 1 -10" color="purple" width="2" height="2" depth="2"
           dynamic-body="mass: 2; linearDamping: 0.01; angularDamping: 0.01; restitution: 0.8"></a-box>
    
    <a-box class="movingCube" position="10 1 -10" color="red" width="2" height="2" depth="2"
           dynamic-body="mass: 2; linearDamping: 0.01; angularDamping: 0.01; restitution: 0.8"></a-box>
    
    <a-box class="movingCube" position="-10 1 10" color="blue" width="2" height="2" depth="2"
           dynamic-body="mass: 2; linearDamping: 0.01; angularDamping: 0.01; restitution: 0.8"></a-box>
    
    <a-box class="movingCube" position="10 1 10" color="yellow" width="2" height="2" depth="2"
           dynamic-body="mass: 2; linearDamping: 0.01; angularDamping: 0.01; restitution: 0.8"></a-box>

    <!-- Resto de la escena (cámara, manos, etc.) -->
  </a-scene>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Asignar velocidades aleatorias a los cubos
      document.querySelectorAll('.movingCube').forEach(cube => {
        const velocity = {
          x: (Math.random() - 0.5) * 10,  // Entre -5 y 5 m/s
          y: (Math.random() - 0.5) * 2,   // Pequeño componente vertical
          z: (Math.random() - 0.5) * 10
        };
        cube.body.velocity.set(velocity.x, velocity.y, velocity.z);
        
        // Rotación aleatoria
        const torque = {
          x: Math.random() * 10,
          y: Math.random() * 10,
          z: Math.random() * 10
        };
        cube.body.angularVelocity.set(torque.x, torque.y, torque.z);
      });
    });
  </script>
</body>
</html>